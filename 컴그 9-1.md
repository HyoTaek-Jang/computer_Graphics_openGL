3차원으로 들어가려면 z coord가 들어가면 됨.
3차원 백터를 통해서 translation
scaling, translation 되는데 rotation이 복잡해짐
회전할때 총 3가지의 독립된 회전이 가능해짐. 그렇기에 숫자가 3개가 필요해짐. rotation의 축이 결정되야함. 3차원에선 한 직선이 아예 안움직이게함. -> rotation axis -> 이걸 중심으로 돌림.
homogeneous coord로 함. 4X4

rotation
:z축으로 돌릴땐 똑같음. 2차원이랑 같음
:x축으로 돌릴떈 x는 가만히 있고 z랑y가 바뀜
:y도 똑같이

y축으로 돌리고 싶을때 x,z로 구현가능. x돌리고 z돌리고 다시 x돌리기
거꾸로 돌리려면 -세타로 돌리거나 -x축으로 돌리면 됨

임의의 축으로 돌리기.
: 평행이동하고 돌리고 평행이동하기.
: translation - z축을 맞추고, z축으로 돌리고 아까 모양으로 돌리고 다시 translation
: 트렌슬레이션하고 x축으로 돌려서 x-z평면으로 바닥에 붙게 돌림. 그 다음 y축으로 돌려서 z축에 착 붙게 돌림.
: u벡터(a,b,c)를 y-z평면에 정사영 -> u'(0,b,c) 이걸 알파만큼 돌리면 됨
: cos알파 = u'* Uz=(0,0,1) (dot product)/|u'||uz| = c/d , d=(b^2+c^2)^(1/2)
: 코사인은 우함수라서 알파가 음수인지 양수인지 몰라 그래서 사인으로 알아냄.
: u'xuz(cross product) = Ux*b, dsina=b, sina = b/d
: 감았을때 양수축으로 나오면 알파가 양수고 반대면 음수 ㅇㅇ

위에 나온 식을 통해 tan알파 = b/c
atan2(c,b)로 하면 알파가 나옴.

이제 바닥에 붙은 놈을 z축에 붙이기
cos베파 = u''(a,0,d)\*uz/|u''||uz|=d
sin베타 = -a
이것도 아크탄젠트 계산해서 베타 구해도 됨.
아니면 사인 코사인이니까 그냥 로테이션 매트릭스에 넣어서 해도 됨.

각도를 계산하고 싶으면 닷프로덕트 크로스프로덕트를 해본다~

Ry(b)\*Rx(a) =
매트릭스 맨 윗줄은 x축이 되는 백터, 다음줄 y축이 되는 좌표 -> basis
u'z를 u로 가정하고, u랑 크로스프로덕트해서 수직나오고 길이가 1이게 하는 임의의 백터를 uy, ux=uy x uz 로 구한다.

축으로 쓰는 애는 길이가 1
기존에 만든것과 수직

Affine transformation
평행한 선은 뭘해도 평행함.
t r s r shear를 포함함
